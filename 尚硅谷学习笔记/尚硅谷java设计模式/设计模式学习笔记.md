# Java设计模式

>  尚硅谷设计模式学习笔记



## 设计模式的七大原则

设计模式的目的？

​	答：使用设计模式的好处在于我们可以让代码做到重用性、可读性、可扩展性、可靠性、高内聚、低耦合等大大提高。











### 1.单一职责原则

概念：(Single Responsibility Principle，SRP)，单一职责的是指一个类方法有且仅有一个引起它变化的原因，否则该类就应该被拆分。

优点：

* 降低类的复杂度，一个类只负责一个职责。逻辑单一。
* 提高代码的可读性。
* 提高代码的可维护性。
* 变更代码的时候导致的影响较小。

缺点：

* 一个职责的变化可能会消弱或抑制这个类实现其他职责的能力；
* 当客户端需要该对象的某一个职责时，不得不将其他不需要的职责包含进来，从而造成冗余代码等。

### 2.接口隔离原则

概念：(Interface Segregation Principle，ISP)，是指当接口功能会出现臃肿庞大的时候，一定要将接口进行拆分，保证接口功能更加细化且单一。

优点：

* 接口颗粒度降低，可以防止接口的臃肿化。这样的细化可以预防外来变更的扩散，提高系统的灵活性和可维护性。
* 接口的隔离可以提高系统的内聚性，降低系统的耦合性。
* 使用多个专门的接口可以体现对象的层次性。
* 可以减少项目中的代码冗余。

缺点：

* 过分追求接口的细化和颗粒度的降低，会导致接口的数量过多，使得设计的复杂化提高。

接口隔离和单一职责的区别？

* 单一职责注重职责，而接口隔离注重的是对接口依赖的隔离。
* 单一职责主要是约束类，它针对的是程序中的实现和细节；接口隔离原则主要约束接口，主要针对的是程序框架的构建。

实现方法：

* 接口尽量小，但是也有一定的限度。一个接口只服务于一个子模块或业务逻辑。
* 为依赖接口的类定制服务。只提供调用者需要的方法，屏蔽不需要的方法。
* 了解环境，拒绝盲从。
* 提高内聚。减少对外交互。使接口用最少的方法去完成最多的事情。

### 3.依赖倒置原则

概念：(Dependence Inversion Principle，DIP)，高层模块不应该依赖低层模块，两者都应该依赖其抽象；抽象不应该依赖细节，细节应该依赖抽象。核心思想是：要面向接口编程，不要面向实现编程。

依赖倒置原则的作用：

* 可以降低类间的耦合性；
* 提高系统的稳定性；
* 减少并行开发引起的风险；
* 可以提高代码的可读性和可维护性。

实现方法：

1. 每个类尽量提供接口或抽象类，或两者都具备；
2. 变量的声明类型尽量是接口或抽象类；
3. 任何类都不应该从具体类派生；
4. 使用继承时尽量遵循里氏替换原则。

### 4.里氏替换原则

概念：(Liskov Substitution Principle，LSP)，主要阐释了油管继承的一些原则，也就是什么时候应该使用继承，什么时候不应该使用继承。

作用：

* 里氏替换原则是实现开闭原则的重要方式之一；
* 克服了继承中重写父类造成的可复用性变差的缺点；
* 是动作正确性的保证。即类的扩展不会给已有的系统引入新的错误。降低类代码出错的可能性；
* 加强程序的健壮性，同时变更可以做到非常好的兼容性，提高程序的维护性，可扩展性，降低需求变更时引入的风险。

实现方法：

1. 子类可以实现父类的抽象方法，但不能覆盖父类的非抽象方法；
2. 子类中可以增加自己特有的方法；
3. 当子类的方法重载父类方法时，方法的前置条件要比父类的方法更宽松；
4. 当子类的方法实现父类的方法时，方法的后置条件要比父类的方法更严格或相等。



### 5.开闭原则

概念：(Open Closed Principle，OCP)，当应用的需求改变时，在不修改软件实体的源代码或二进制代码的前提下，可以扩展模块的功能，使其满足新的需求。

作用：

* 对软件测试的影响；
* 可以提高代码的可复用性；
* 可以提高软件的可维护性。

实现方法：

可以通过“抽象约束、封装变化”来实现开闭原则，即通过接口或抽象类为软件实体地定义一个相对稳定的抽象层，而将相同的可变因素封装在相同的具体实现类中。

因为抽象灵活性号，适应性广，只要抽象的合理，可以基本保持软件架构的稳定。而软件中易变的细节可以从抽象派生来的实现类来进行扩展，当软件需要发生变化时，只需要根据需求重新派生需求重新一个实现类来扩展就可以了。



### 6.迪米特法则



### 7.合成复用原则




